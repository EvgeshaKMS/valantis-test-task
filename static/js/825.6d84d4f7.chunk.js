"use strict";(self.webpackChunkvalantis_test_task=self.webpackChunkvalantis_test_task||[]).push([[825],{2825:(e,s,i)=>{i.r(s),i.d(s,{default:()=>v});var l=i(5043),a=i(1009),n=i(5306),t=i(2311),r=i(521),d=i(785),c=i(898),o=i(3324),h=i(6597),m=i(617),j=i(3003);const u=j.d4;var x=i(434),p=i(1012),_=i(7643);const g="List_form__Tn7zQ",b="List_pagination__kCxPH",A="List_error__1-LUF",f="List_list__jd3f+",C="Item_item__qoSUu",F="Item_name__3PDes",y="Item_brand__nMt7D",N="Item_price__aRmYi";var k=i(579);const V=e=>{let{item:s}=e;return(0,k.jsxs)("li",{className:C,children:[(0,k.jsx)("span",{children:s.id}),(0,k.jsx)("h3",{className:F,children:s.product}),s.brand&&(0,k.jsx)("span",{className:y,children:s.brand}),(0,k.jsxs)("span",{className:N,children:[s.price," \u20bd"]})]})},v=()=>{const e=(0,j.wA)(),{isLoading:s,items:i,isError:C,page:F,filterPage:y,isFilter:N}=u((e=>e.items)),{onPageChange:v,onFilterPageChange:I}=p.P.actions,[L]=a.A.useForm(),P=()=>{e((0,x.js)()).then((()=>{e((0,x.LN)())}))};(0,l.useEffect)((()=>{P()}),[F]);return C?(0,k.jsxs)("div",{className:A,children:[(0,k.jsx)(n.A.Title,{children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"}),(0,k.jsx)(t.Ay,{icon:(0,k.jsx)(m.A,{}),size:"large",type:"primary",onClick:()=>P()})]}):(0,k.jsxs)(_.ff,{children:[(0,k.jsx)("h1",{children:"\u042e\u0432\u0435\u043b\u0438\u0440\u043d\u044b\u0435 \u0443\u043a\u0440\u0430\u0448\u0435\u043d\u0438\u044f"}),(0,k.jsxs)(a.A,{form:L,onValuesChange:()=>{L.getFieldValue("product")||L.getFieldValue("brand")||L.getFieldValue("price")||!N||P()},layout:"vertical",onFinish:s=>{const i=Object.keys(s).find((e=>{if(s[e])return e}));if(i){const l={[i]:s[i]};e((0,x.XZ)(l)).then((()=>{e((0,x.LN)())}))}},disabled:s,className:g,children:[(0,k.jsx)(a.A.Item,{name:"product",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",children:(0,k.jsx)(r.A,{onChange:()=>{L.setFieldValue("brand",""),L.setFieldValue("price","")}})}),(0,k.jsx)(a.A.Item,{name:"brand",label:"\u0411\u0440\u0435\u043d\u0434",children:(0,k.jsx)(r.A,{onChange:()=>{L.setFieldValue("product",""),L.setFieldValue("price","")}})}),(0,k.jsx)(a.A.Item,{name:"price",label:"\u0426\u0435\u043d\u0430",children:(0,k.jsx)(d.A,{onChange:()=>{L.setFieldValue("product",""),L.setFieldValue("brand","")},type:"number",controls:!1})}),(0,k.jsx)(a.A.Item,{children:(0,k.jsxs)(c.A,{children:[(0,k.jsx)(t.Ay,{type:"primary",htmlType:"submit",children:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c"}),(0,k.jsx)(t.Ay,{htmlType:"button",onClick:()=>{L.resetFields(),N&&v(1)},children:"Reset"})]})})]}),s&&(0,k.jsx)(_.aH,{}),i.length>0&&!s&&!N&&(0,k.jsx)("ul",{className:f,children:i.map((e=>(0,k.jsx)(V,{item:e},e.id)))}),i.length>0&&!s&&N&&(0,k.jsx)("ul",{className:f,children:i.map(((e,s)=>{if(s>=50*(y-1)&&s<50*y)return(0,k.jsx)(V,{item:e},e.id)}))}),N?(0,k.jsx)(o.A,{pageSize:50,total:i.length,className:b,onChange:s=>{e(I(s)),window.scrollTo({top:0,left:0,behavior:"smooth"})},showSizeChanger:!1}):(0,k.jsxs)(h.A,{gap:10,className:b,children:[(0,k.jsx)(t.Ay,{onClick:()=>{e(v(F-1))},disabled:1===F||s,size:"middle",loading:s,children:"Prev."}),(0,k.jsx)(t.Ay,{onClick:()=>{e(v(F+1))},disabled:s,size:"middle",loading:s,children:"Next."})]})]})}}}]);
//# sourceMappingURL=825.6d84d4f7.chunk.js.map